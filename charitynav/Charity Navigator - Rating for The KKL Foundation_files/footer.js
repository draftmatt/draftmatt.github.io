!function(s){"use strict";function e(s){return new RegExp("(^|\\s+)"+s+"(\\s+|$)")}function n(s,e){var n=t(s,e)?c:a;n(s,e)}var t,a,c;"classList"in document.documentElement?(t=function(s,e){return s.classList.contains(e)},a=function(s,e){s.classList.add(e)},c=function(s,e){s.classList.remove(e)}):(t=function(s,n){return e(n).test(s.className)},a=function(s,e){t(s,e)||(s.className=s.className+" "+e)},c=function(s,n){s.className=s.className.replace(e(n)," ")});var o={hasClass:t,addClass:a,removeClass:c,toggleClass:n,has:t,add:a,remove:c,toggle:n};"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o:s.classie=o}(window);(function(window){'use strict';function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key];}}
return a;}
function each(collection,callback){for(var i=0;i<collection.length;i++){var item=collection[i];callback(item);}}
function Menu(options){this.options=extend({},this.options);extend(this.options,options);this._init();}
Menu.prototype.options={wrapper:'#wrapper',type:'push-right',menuOpenerClass:'.c-button',maskId:'#c-mask'};Menu.prototype._init=function(){this.body=document.body;this.wrapper=document.querySelector(this.options.wrapper);this.mask=document.querySelector(this.options.maskId);this.menu=document.querySelector('#c-menu--'+this.options.type);this.closeBtn=this.menu.querySelector('.c-menu__close');this.menuOpeners=document.querySelectorAll(this.options.menuOpenerClass);this._initEvents();};Menu.prototype._initEvents=function(){this.closeBtn.addEventListener('click',function(e){e.preventDefault();this.close();}.bind(this));this.mask.addEventListener('click',function(e){e.preventDefault();this.close();}.bind(this));};Menu.prototype.open=function(){this.body.classList.add('has-active-menu');this.wrapper.classList.add('has-'+this.options.type);this.menu.classList.add('is-active');this.mask.classList.add('is-active');this.disableMenuOpeners();};Menu.prototype.close=function(){this.body.classList.remove('has-active-menu');this.wrapper.classList.remove('has-'+this.options.type);this.menu.classList.remove('is-active');this.mask.classList.remove('is-active');this.enableMenuOpeners();};Menu.prototype.disableMenuOpeners=function(){each(this.menuOpeners,function(item){item.disabled=true;});};Menu.prototype.enableMenuOpeners=function(){each(this.menuOpeners,function(item){item.disabled=false;});};window.Menu=Menu;})(window);var pushRight=new Menu({wrapper:'#wrapper',type:'push-right',menuOpenerClass:'.c-button',maskId:'#c-mask'});var pushRightBtn=document.querySelector('#c-button--push-right');pushRightBtn.addEventListener('click',function(e){e.preventDefault;pushRight.open();});$('#c-button--push-right').click(function(){ga('send','event','mobile-menu','click');setTimeout(function(){$('.c-menu__close .nav-burger').addClass('active');},700);});$('.c-menu__close .nav-burger').click(function(){$(this).removeClass('active');});function checkSize(){if($(".charity_search_text").css("display")=="none"){$('input#keyword_list').attr('placeholder',"Charity Search");$("div, a, img, span, p, input, select").tooltip({disabled:true});setTimeout(function(){$('option').each(function(){var myStr=$(this).text();if(myStr.slength>15){$(this).text(myStr.substring(0,40));}});},500);}else{$('input#keyword_list').attr('placeholder',"enter charity name, keywords, or EIN");$("div, a, img, span, p, input, select").tooltip({disabled:false});}}
function disableTooltip(){if($('.payment-table').css('float')=='none'||$('.mobile-menu-basket').css('display')!=='none'){$("div, a, img, span, p, input, select").tooltip({disabled:true});}else{$("div, a, img, span, p, input, select").tooltip({disabled:false});}}
function disabledropDown(){if($('#footer .accordion-item-hd-cta').css('display')=='block'||$('#leftcontent').css('float')=='none'||$('.accordion-item-input').attr('id')=='item70'){$('.accordion-item-input').prop('disabled',false);}else{$('.accordion-item-input').prop('disabled',true);}}
$(document).ready(function(){setTimeout(function(){var slideLink=$('#fmslideshow').find('a').first().attr('href');var slideImage=($.trim($('#fmslideshow').find('a').first().children().children('div').css('background-image')).substring(4,$.trim($('#fmslideshow').find('a').first().children().children('div').css('background-image')).length-1)).replace(/\"/g,"");$('.mobile-slide a').attr('href',slideLink);$('.mobile-slide').find('img').attr('src',slideImage);},3000);checkSize();disableTooltip();disabledropDown();$('.ui-dialog-titlebar-close').attr('title','');$('h1:contains("Compare Charities")').parents('#maincontent2').parents('#cn_body_inner').css('width','auto');});$(window).resize(function(){checkSize();disableTooltip();disabledropDown();});$('.mobile-button').click(function(){$(this).prev('input').prop('checked',true);calcPageTotals(window.basket.donationsTotal,window.basket.feesTotal);})
$('.accordion-item-hd').click(function(){if($(this).text().indexOf('(')!==-1){var label=$(this).text().substring(0,$(this).text().indexOf('(')-1).replace(/\s{2,}/g,' ');}else{var label=$(this).text().substring(0,$(this).text().length-1).replace(/\s{2,}/g,' ');}
if($('.accordion-item-hd-cta').css('display')=='block'||$('#leftcontent .filtersearchnav .accordion-item-hd').css('padding')=='8px 30px 8px 15px'){if($(this).closest('#footer').length==0){if($(this).prev('.accordion-item-input').prop('checked')){ga('send','event','Mobile','Close',label+'-maincontent');}else{ga('send','event','Mobile','Open',label+'-maincontent');}}else{if($(this).prev('.accordion-item-input').prop('checked')){ga('send','event','Mobile','Close',label+'-footer');}else{ga('send','event','Mobile','Open',label+'-footer');}}}});$.fn.wrapInTag=function(opts){var tag=opts.tag||'strong',words=opts.words||[],regex=RegExp(words.join('|'),'gi'),replacement='<'+tag+'>$&</'+tag+'>';return this.html(function(){return $(this).text().replace(regex,replacement);});};$('.givingbasketicon').click(function(){if($(".basket-count").text()!=="0"){ga('ec:setAction','checkout',{'step':1,'option':'cart-icon click'});ga('send','event','UX','click','checkout step 1');}});$('form[name="simplesearch"]').submit(function(e){var inputsearchbox=$(this).find('input.searchbox');var searchsubmit=$(this).find('input.btnSrchSubmit');var initialheight=parseInt(inputsearchbox.css('height'));if($.trim(inputsearchbox.val())==""){e.preventDefault();e.stopPropagation();inputsearchbox.animate({height:initialheight+4,},500,function(){inputsearchbox.animate({height:initialheight,},500);});searchsubmit.animate({height:initialheight+4,},500,function(){searchsubmit.animate({height:initialheight,},500);});}else{return submit_form();}});$('.phonetooltip').hover(function(){$(this).siblings('.tooltiptext').css('visibility','visible');},function(){$(this).siblings('.tooltiptext').css('visibility','hidden');});